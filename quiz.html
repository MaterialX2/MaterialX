<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Quiz</title>
    <link rel="icon" type="image/png" href="img/photo_2024-10-01_00-48-56.jpg">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f1f3f5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 10px;
        }

        .quiz-container {
            background-color: #fff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 100%;
            max-width: 450px;
            transition: transform 0.3s ease-in-out;
        }

        .quiz-container:hover {
            transform: scale(1.03);
        }

        h1 {
            font-size: 26px;
            color: #333;
            margin-bottom: 25px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 25px 0;
        }

        .option {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 14px 22px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
            width: 100%;
        }

        .option:hover {
            background-color: #0056b3;
        }

        @media (max-width: 600px) {
            .quiz-container {
                width: 100%;
                padding: 20px;
            }

            .option {
                padding: 12px;
                font-size: 14px;
            }

            #timer,
            #result {
                font-size: 16px;
            }
        }

        .correct {
            background-color: #28a745 !important;
            color: white;
        }

        .wrong {
            background-color: #dc3545 !important;
            color: white;
        }

        .hidden {
            display: none;
        }

        #result {
            margin-top: 30px;
            font-size: 20px;
            color: #555;
            max-width: 100%;
            overflow-wrap: break-word;
        }

        #result div {
            padding: 10px;
        }

        #next-btn,
        #finish-btn,
        #review-btn,
        #back-btn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 25px;
            transition: background-color 0.3s ease;
            width: 100%;
        }

        #next-btn:hover,
        #finish-btn:hover,
        #review-btn:hover,
        #back-btn:hover {
            background-color: #218838;
        }

        #timer {
            font-size: 18px;
            margin-top: 10px;
            visibility: hidden;
        }

        #review-btn,
        #back-btn {
            display: none;
        }

        #question-info {
            font-size: 18px;
            margin-bottom: 15px;
            color: #333;
        }

        .time-input-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 15px;
        }

        input[type="number"] {
            width: 70px;
            padding: 10px;
            margin-right: 10px;
            font-size: 16px;
            border: 2px solid #007bff;
            border-radius: 6px;
            transition: border-color 0.3s ease;
        }

        input[type="number"]:focus {
            border-color: #0056b3;
            outline: none;
        }

        .time-option {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .time-option:hover {
            background-color: #0056b3;
        }

        .statistics {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }

        #start-new-quiz {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
            width: 100%;
        }

        #start-new-quiz:hover {
            background-color: #45a049;
        }

        h2 {
            font-size: 1.5em;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 22px;
            }

            h2 {
                font-size: 1.3em;
            }
        }

        hr {
            border: 1px solid #ccc;
            margin: 10px 0;
        }


        #review-answers {
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
            padding: 15px;
            background-color: #f1f3f5;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .quiz-container {
            max-width: 100%;
            width: 450px;
            background-color: #fff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease-in-out;
            overflow: hidden;
        }

        @media (max-width: 600px) {
            .quiz-container {
                width: 90%;
                padding: 20px;
            }

            .option {
                padding: 12px;
                font-size: 14px;
            }

            #timer,
            #result {
                font-size: 16px;
            }

            #review-answers {
                max-height: 300px;
            }
        }

        .review-question {
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #fff;
        }

        .review-question p {
            margin: 10px 0;
            font-size: 16px;
            line-height: 1.5;
        }

        .review-question strong {
            color: #007bff;
        }

        .review-question em {
            color: #dc3545;
        }
    </style>
</head>

<body>
    <div class="quiz-container">
        <h1 id="quiz-title">Select Quiz</h1>
        <div id="quiz-selection">
            <button class="time-option" onclick="selectQuiz('database')">Database</button>
            <button class="time-option" onclick="selectQuiz('datastructures')">Data Structures</button>
        </div>

        <div id="database-quiz-selection" class="hidden">
            <h3>Select Database Quiz:</h3>
            <button class="time-option" onclick="chooseDatabaseQuiz(1)">Database Quiz 1</button>
            <!-- <button class="time-option" onclick="chooseDatabaseQuiz(2)">Database Quiz 2</button>
            <button class="time-option" onclick="chooseDatabaseQuiz(3)">Database Quiz 3</button> -->
        </div>

        <div id="data-structure-quiz-selection" class="hidden">
            <h3>Select Data Structures Quiz:</h3>
            <button class="time-option" onclick="chooseDataStructuresQuiz(1)">Data Structures Quiz 1</button>
            <!-- <button class="time-option" onclick="chooseDataStructuresQuiz(2)">Data Structures Quiz 2</button>
            <button class="time-option" onclick="chooseDataStructuresQuiz(3)">Data Structures Quiz 3</button> -->
        </div>


        <div id="time-options" class="hidden">
            <h3>Select Time Option:</h3>
            <button class="time-option" onclick="startQuizWithoutTime()">Without Time Limit</button>
            <button class="time-option" onclick="showTimeInput()">With Time Limit</button>
        </div>
        <div id="time-input" class="hidden">
            <h3>Enter Time Limit (in minutes):</h3>
            <div class="time-input-container">
                <input type="number" id="time-limit" min="1" placeholder="Minutes" />
                <button class="time-option" onclick="setTimeLimit()">Set Time</button>
            </div>
        </div>
        <div id="timer">Time Remaining: <span id="time-left">00:00</span></div>
        <div id="question-info" class="hidden">Question <span id="current-question"></span> of <span
                id="total-questions"></span></div>
        <div id="question-box" class="hidden">
            <p id="question"></p>
            <div class="options">
                <button class="option" onclick="checkAnswer(0)"></button>
                <button class="option" onclick="checkAnswer(1)"></button>
                <button class="option" onclick="checkAnswer(2)"></button>
                <button class="option" onclick="checkAnswer(3)"></button>
            </div>
        </div>
        <button id="next-btn" onclick="nextQuestion()" class="hidden">Next</button>
        <button id="finish-btn" onclick="showResult()" class="hidden">Finish</button>
        <div id="result" class="hidden"></div>
        <div id="time-taken" class="hidden"></div>
        <button id="start-new-quiz" style="display:none;" onclick="startNewQuiz()">Start New Quiz</button>
        <button id="review-btn" class="hidden" onclick="reviewAnswers()">Review Answers</button>
    </div>


    <div id="review-answers" style="display:none;"></div>

    <script>
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
        });

        let score = 0;
        let totalQuestions;
        let currentQuestionIndex = 0;
        let timeLimit;
        let timerInterval;
        let userAnswers = [];
        let startTime;
        let selectedQuiz;
        let databaseQuizVariant = 1;
        let dataStructureQuizVariant = 1;


        const databaseQuestions1 = [

            {
                question: "What is a database?",
                options: ["A collection of unrelated data", "A collection of related data", "A program that retrieves data", "A storage medium for documents"],
                answer: 1
            },
            {
                question: "Which of the following is a function of a DBMS?",
                options: ["Text editing", "Defining the database", "Printing documents", "Browsing the internet"],
                answer: 1
            },
            {
                question: "What is the primary purpose of a Database Management System (DBMS)?",
                options: ["To create images", "To manage data efficiently", "To play music", "To manage emails"],
                answer: 1
            },
            {
                question: "Which of the following is a disadvantage of file-based systems?",
                options: ["Easy data sharing", "High data integrity", "Data duplication", "Automatic backup"],
                answer: 2
            },
            {
                question: "What does data consistency in a database imply?",
                options: ["Data stored in different formats", "Data is consistent across different files", "Any update is performed once and is available to all users", "Multiple copies of data exist"],
                answer: 2
            },
            {
                question: "What does a database catalog contain?",
                options: ["List of all employees", "Metadata", "User passwords", "System logs"],
                answer: 1
            },
            {
                question: "Which of the following is not a DBMS function?",
                options: ["Manipulating data", "Sharing the database", "Protecting the database", "Compiling code"],
                answer: 3
            },
            {
                question: "What is atomicity in the context of databases?",
                options: ["The ability to store large files", "The ability to process transactions entirely or not at all", "The ability to share data among users", "The ability to create backups"],
                answer: 1
            },
            {
                question: "What type of language is used to specify the structure of a database?",
                options: ["Data Manipulation Language (DML)", "Data Definition Language (DDL)", "Data Query Language (DQL)", "Procedural Language"],
                answer: 1
            },
            {
                question: "Which of the following is a disadvantage of using a database?",
                options: ["High performance", "Complexity", "Ease of use", "Small size"],
                answer: 1
            },
            {
                question: "Which users primarily interact with the database to satisfy their data needs?",
                options: ["Database Designers", "End Users", "Database Administrators", "Systems Analysts"],
                answer: 1
            },
            {
                question: "Which of the following is an advantage of a database system?",
                options: ["Data redundancy", "Limited data sharing", "Improved data integrity", "Atomicity problems"],
                answer: 2
            },
            {
                question: "What is a 'view' in the context of databases?",
                options: ["A different program", "A subset of the database", "A backup of the database", "A query language"],
                answer: 1
            },
            {
                question: "Which of the following tasks is not typically handled by a Database Administrator (DBA)?",
                options: ["Authorizing access to the database", "Designing the database", "Monitoring database use", "Developing applications"],
                answer: 3
            },
            {
                question: "When is it more desirable to use regular files instead of a database?",
                options: ["For complex, ever-changing applications", "For embedded systems with limited storage capacity", "For large multi-user environments", "For systems requiring high security"],
                answer: 1
            },
            {
                question: "Data is always consistent in a file-based system.",
                options: ["True", "False"],
                answer: 1
            },
            {
                question: "A DBMS allows multiple users to access data simultaneously.",
                options: ["True", "False"],
                answer: 0
            },
            {
                question: "A database application is a program that interacts with the database.",
                options: ["True", "False"],
                answer: 0
            },
            {
                question: "The physical structure of data is independent of application programs in a DBMS.",
                options: ["True", "False"],
                answer: 0
            },
            {
                question: "In a database, data redundancy is increased to improve performance.",
                options: ["True", "False"],
                answer: 1
            },
            {
                question: "A file-based system is more efficient than a database in handling complex data relationships.",
                options: ["True", "False"],
                answer: 1
            },
            {
                question: "A DBMS does not provide any security mechanisms to protect data.",
                options: ["True", "False"],
                answer: 1
            },
            {
                question: "Sharing a database can only be done by a single user at a time.",
                options: ["True", "False"],
                answer: 1
            },
            {
                question: "The cost of implementing a DBMS is usually lower than using a file-based system.",
                options: ["True", "False"],
                answer: 1
            },
            {
                question: "Data integrity in a database is easier to achieve than in a file-based system.",
                options: ["True", "False"],
                answer: 0
            }
        ];

        const databaseQuestions2 = [
        ];

        const databaseQuestions3 = [
        ];

        const dataStructureQuestions = [
            {
                question: "Process of inserting an element in a stack is called:",
                options: ["Create", "Push", "Evaluation", "Pop"],
                answer: 1 // Push
            },
            {
                question: "Process of removing an element from a stack is called:",
                options: ["Create", "Push", "Evaluation", "Pop"],
                answer: 3 // Pop
            },
            {
                question: "In a stack, if a user tries to remove an element from an empty stack, it is called:",
                options: ["Underflow", "Empty collection", "Overflow", "Garbage Collection"],
                answer: 0 // Underflow
            },
            {
                question: "Pushing an element into a stack already having five elements and a size limit of 5 will cause:",
                options: ["Underflow", "User flow", "Overflow", "Crash"],
                answer: 2 // Overflow
            },
            {
                question: "Which of the following is not an application of stack?",
                options: ["A parentheses balancing program", "Tracking of local variables at run time", "Compiler Syntax Analyzer", "Data transfer between two asynchronous processes"],
                answer: 3 // Data transfer between two asynchronous processes
            },
            {
                question: "The maximum number of parentheses that appear on the stack at any one time when analyzing (()(())(())) is:",
                options: ["1", "2", "3", "4 or more"],
                answer: 2
            },
            {
                question: "What is the value of the postfix expression 6 3 2 4 + - * ?",
                options: ["1", "40", "74", "-18"],
                answer: 3 // -18
            },
            {
                question: "The maximum number of symbols that will appear on the stack at one time during the conversion of 4 + 3*(6*3-12) from infix to postfix notation is:",
                options: ["1", "2", "3", "4"],
                answer: 3
            },
            {
                question: "The data structure required to check whether an expression contains balanced parentheses is:",
                options: ["Stack", "Queue", "Array", "Tree"],
                answer: 0 // Stack
            },
            {
                question: "The postfix form of the expression (A+B)*(C*D-E)*F/G is:",
                options: ["AB+CD*E-FG/**", "AB+CD*E-F**G/", "AB+CD*E-*F*G/", "AB+CDE*-*F*G/"],
                answer: 2
            },
            {
                question: "The process of accessing data stored in a serial access memory is similar to manipulating data on a:",
                options: ["Heap", "Binary Tree", "Array", "Stack"],
                answer: 3 // Stack
            },
            {
                question: "The postfix form of A*B+C/D is:",
                options: ["*AB/CD+", "AB*CD/+", "A*BC+/D", "ABCD+/*"],
                answer: 1 // AB*CD/+
            },
            {
                question: "Which data structure is needed to convert infix notation to postfix notation?",
                options: ["Stack", "Queue", "Branch", "Tree"],
                answer: 0 // Stack
            },
            {
                question: "The prefix form of A-B/(C*D^E) is:",
                options: ["-/*^ACBDE", "-ABCD*^DE", "-A/B*C^DE", "-A/BC*^DE"],
                answer: 2 // -A/B*C^DE
            },
            {
                question: "The prefix form of the infix expression (p + q) - (r * t) is:",
                options: ["+ pq - *rt", "-+pqr*t", "-+pq*rt", "-+*pqrt"],
                answer: 2 // -+pq*rt
            },
            {
                question: "Which data structure is used for implementing recursion?",
                options: ["List", "Queue", "Array", "Stack"],
                answer: 3 // Stack
            },
            {
                question: "The result of evaluating the postfix expression 5 4 6 + * 4 9 3 / + * is:",
                options: ["600", "350", "650", "588"],
                answer: 1
            },
            {
                question: "Convert the infix expression (A+B^D)/(E-F)+G to postfix:",
                options: ["(ABD^+EF-/G+)", "(ABD+^EF-/G+)", "(ABD^+EF/-G+)", "(ABDEF+^/-G+)"],
                answer: 0 // (ABD^+EF-/G+)
            },
            {
                question: "Convert the infix expression x+y*z+(p*q+r)*s to postfix form:",
                options: ["xyz*+pq*r+s*+", "xyz*+pq*r+s+*", "xyz+*pq*r+s*+", "xyzp+**qr+s*+"],
                answer: 0 // xyz*+pq*r+s*+
            },
            {
                question: "Which of the following is not an inherent application of stack?",
                options: ["Reversing a string", "Evaluation of postfix expression", "Implementation of recursion", "Job scheduling"],
                answer: 3 // Job scheduling
            },
            {
                question: "The result of evaluating the postfix expression 10 5 +60 6 /*8- is:",
                options: ["284", "213", "142", "71"],
                answer: 2 // 142
            },
            {
                question: "If elements 'A', 'B', 'C', and 'D' are placed in a stack and are deleted one at a time, what is the order of removal?",
                options: ["ABCD", "DCBA", "DCAB", "ABDC"],
                answer: 1 // DCBA
            },
            {
                question: "Suppose a stack is implemented with a linked list instead of an array. What would be the time complexity of push and pop operations?",
                options: ["O(1) for insertion and O(n) for deletion", "O(1) for insertion and O(1) for deletion", "O(n) for insertion and O(1) for deletion", "O(n) for insertion and O(n) for deletion"],
                answer: 1 // O(1) for insertion and O(1) for deletion
            },
            {
                question: "To evaluate an expression without any embedded function calls:",
                options: ["As many stacks as the height of the expression tree are needed", "One stack is enough", "Two stacks are needed", "A Turing machine is needed in the general case"],
                answer: 1 // One stack is enough
            }
        ];

        const dataStructureQuestions2 = [
        ];

        const dataStructureQuestions3 = [
        ];



        function selectQuiz(quiz) {
            selectedQuiz = quiz;
            if (quiz === 'database') {
                document.getElementById('quiz-selection').classList.add('hidden');
                document.getElementById('database-quiz-selection').classList.remove('hidden');
            } else if (quiz === 'datastructures') {
                document.getElementById('quiz-selection').classList.add('hidden');
                document.getElementById('data-structure-quiz-selection').classList.remove('hidden');
            }
        }



        function chooseDatabaseQuiz(variant) {
            databaseQuizVariant = variant;
            totalQuestions = getDatabaseQuestions().length;
            document.getElementById('quiz-title').innerText = `Database Quiz ${variant}`;
            document.getElementById('database-quiz-selection').classList.add('hidden');
            document.getElementById('time-options').classList.remove('hidden');
        }


        function getDatabaseQuestions() {
            if (databaseQuizVariant === 1) return databaseQuestions1;
            if (databaseQuizVariant === 2) return databaseQuestions2;
            if (databaseQuizVariant === 3) return databaseQuestions3;
        }

        function chooseDataStructuresQuiz(variant) {
            dataStructureQuizVariant = variant;
            totalQuestions = getDataStructureQuestions().length;
            document.getElementById('quiz-title').innerText = `Data Structures Quiz ${variant}`;
            document.getElementById('data-structure-quiz-selection').classList.add('hidden');
            document.getElementById('time-options').classList.remove('hidden');
        }

        function getDataStructureQuestions() {
            if (dataStructureQuizVariant === 1) return dataStructureQuestions;
            if (dataStructureQuizVariant === 2) return dataStructureQuestions2;
            if (dataStructureQuizVariant === 3) return dataStructureQuestions3;
        }


        function showTimeInput() {
            document.getElementById('time-options').classList.add('hidden');
            document.getElementById('time-input').classList.remove('hidden');
        }

        function setTimeLimit() {
            const minutes = parseInt(document.getElementById('time-limit').value);
            if (isNaN(minutes) || minutes < 1) {
                alert("Please enter a valid number of minutes.");
                return;
            }
            timeLimit = minutes * 60;
            updateTimerDisplay(timeLimit);
            document.getElementById('timer').style.visibility = "visible";
            startQuizWithTimer();
        }

        function startQuizWithoutTime() {
            startQuiz();
        }

        function startQuizWithTimer() {
            startQuiz();
            startTime = new Date();
            timerInterval = setInterval(updateTimer, 1000);
        }

        function startQuiz() {
            document.getElementById('time-options').classList.add('hidden');
            document.getElementById('time-input').classList.add('hidden');
            document.getElementById('question-info').classList.remove('hidden');
            document.getElementById('question-box').classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const quiz = selectedQuiz === 'database' ? getDatabaseQuestions() : dataStructureQuestions;
            document.getElementById('current-question').innerText = currentQuestionIndex + 1;
            document.getElementById('total-questions').innerText = totalQuestions;
            document.getElementById('question').innerText = quiz[currentQuestionIndex].question;
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                option.innerText = quiz[currentQuestionIndex].options[index];
                option.classList.remove('correct', 'wrong');
            });
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('finish-btn').classList.add('hidden');
        }

        function checkAnswer(selectedIndex) {
            const quiz = selectedQuiz === 'database' ? getDatabaseQuestions() : dataStructureQuestions;
            const correctIndex = quiz[currentQuestionIndex].answer;

            userAnswers[currentQuestionIndex] = selectedIndex;
            const options = document.querySelectorAll('.option');
            options.forEach((option, index) => {
                option.classList.remove('correct', 'wrong');
                if (index === correctIndex) {
                    option.classList.add('correct');
                } else if (index === selectedIndex) {
                    option.classList.add('wrong');
                }
            });

            if (selectedIndex === correctIndex) {
                score++;
            }

            if (currentQuestionIndex < totalQuestions - 1) {
                document.getElementById('next-btn').classList.remove('hidden');
            } else {
                document.getElementById('finish-btn').classList.remove('hidden');
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function showResult() {
            document.getElementById('question-info').classList.add('hidden');
            document.getElementById('question-box').classList.add('hidden');
            document.getElementById('result').classList.remove('hidden');

            const percentage = Math.round((score / totalQuestions) * 100);
            document.getElementById('result').innerText = `Your Score: ${score} out of ${totalQuestions} (${percentage}%)`;

            document.getElementById('finish-btn').classList.add('hidden');

            if (timeLimit) {
                const timeTaken = Math.floor((new Date() - startTime) / 1000);
                const minutes = Math.floor(timeTaken / 60);
                const seconds = timeTaken % 60;
                document.getElementById('time-taken').style.display = 'block';
                document.getElementById('time-taken').innerText = `Time Taken: ${minutes}m ${seconds}s`;
                clearInterval(timerInterval);
            }

            document.getElementById('start-new-quiz').style.display = 'block';
            document.getElementById('review-btn').style.display = 'block';
        }


        function startNewQuiz() {
            location.reload();
        }

        function updateTimer() {
            timeLimit--;
            if (timeLimit <= 0) {
                clearInterval(timerInterval);
                showResult();
            }
            updateTimerDisplay(timeLimit);
        }

        function updateTimerDisplay(timeLimit) {
            const minutes = Math.floor(timeLimit / 60);
            const seconds = timeLimit % 60;
            document.getElementById('time-left').innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function backToHome() {
            location.reload();
        }
        document.getElementById('review-btn').classList.remove('hidden');

        function reviewAnswers() {
            let quiz = selectedQuiz === 'database' ? getDatabaseQuestions() : dataStructureQuestions;
            let reviewMessage = '<div class="review-container">';

            for (let i = 0; i < totalQuestions; i++) {
                let userAnswerIndex = userAnswers[i];
                let correctAnswerIndex = quiz[i].answer;

                reviewMessage += `
            <div class="review-question">
                <p><strong>Question ${i + 1}:</strong> ${quiz[i].question}</p>
                <p><strong>Your Answer:</strong> ${quiz[i].options[userAnswerIndex] || '<em>No answer</em>'}</p>
                <p><strong>Correct Answer:</strong> ${quiz[i].options[correctAnswerIndex]}</p>
            </div>
        `;
            }

            reviewMessage += '</div>';

            document.getElementById('review-answers').innerHTML = reviewMessage;
            document.getElementById('review-answers').style.display = 'block';
        }

    </script>
</body>

</html>